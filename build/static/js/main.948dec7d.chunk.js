(this.webpackJsonpmenu=this.webpackJsonpmenu||[]).push([[0],[,,,,,,,,function(e,n,t){e.exports=t(17)},,,,,function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){},function(e,n,t){"use strict";t.r(n);var a=t(0),l=t.n(a),r=t(7),d=t.n(r),i=(t(13),t(1)),o=t(2),c=t(4),s=t(3),h=t(5),u=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(c.a)(this,Object(s.a)(n).call(this,e))).state={},t}return Object(h.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){return l.a.createElement("ul",null,this.props.children)}}]),n}(l.a.Component),m=(t(14),function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(c.a)(this,Object(s.a)(n).call(this,e))).handleShow=function(){t.setState({show:!t.state.show})},t.handleUp=function(){var e=t.props,n=e.index,a=e.parentId;a?t.props.handleUpOrDown(a,n,"up"):alert("\u9876\u7ea7\u83dc\u5355\uff0c\u4e0d\u80fd\u5220\u9664\u548c\u79fb\u52a8")},t.handleDown=function(){var e=t.props,n=e.index,a=e.parentId;a?t.props.handleUpOrDown(a,n,"down"):alert("\u9876\u7ea7\u83dc\u5355\uff0c\u4e0d\u80fd\u5220\u9664\u548c\u79fb\u52a8")},t.handleAdd=function(){var e=t.props.id;console.log(e),t.props.handleAdd(e)},t.handleDelete=function(){var e=t.props,n=e.id,a=e.parentId;a?t.props.handleDelete(a,n):alert("\u9876\u7ea7\u83dc\u5355\uff0c\u4e0d\u80fd\u5220\u9664\u548c\u79fb\u52a8")},t.state={show:!0},t}return Object(h.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this.props,n=e.name,t=e.level,a=e.hiddenUp,r=e.hiddenDown;return l.a.createElement("li",null,l.a.createElement("div",{className:"navBar"},l.a.createElement("div",{className:"navTitleContainer",onClick:this.handleShow},this.state.show?l.a.createElement("i",{className:"iconfont iconxiala"}):l.a.createElement("i",{className:"iconfont iconzhankai"}),l.a.createElement("span",null,n)),l.a.createElement("div",{className:"navActionContianer"},a?null:l.a.createElement("button",{onClick:this.handleUp},"\u4e0a\u79fb"),r?null:l.a.createElement("button",{onClick:this.handleDown},"\u4e0b\u79fb"),t<2?l.a.createElement("button",{onClick:t<2?this.handleAdd:null},"\u6dfb\u52a0\u4e0b\u4e00\u7ea7"):null,0===t?null:l.a.createElement("button",{onClick:this.handleDelete},"\u5220\u9664"))),this.state.show?l.a.createElement("ul",null,this.props.children):null)}}]),n}(l.a.Component)),p=(t(15),function(e){function n(){return Object(i.a)(this,n),Object(c.a)(this,Object(s.a)(n).apply(this,arguments))}return Object(h.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this.props.title;return l.a.createElement("div",{className:this.props.show?"modal ":"modal hidden"},l.a.createElement("div",{className:"modal-mask"}),l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("span",{className:"modal-title"},e),l.a.createElement("div",{className:"modal-close"},l.a.createElement("i",{onClick:this.props.onClose,className:"iconfont iconguanbi"}))),l.a.createElement("div",{className:"modal-body"},this.props.children),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{onClick:this.props.onClose,className:"button"},l.a.createElement("span",null,"\u53d6\u6d88")),l.a.createElement("button",{onClick:this.props.onOk,className:"button button-primary"},l.a.createElement("span",null,"\u786e\u5b9a")))))}}]),n}(l.a.Component)),v=(t(16),function(e,n,t){return e[n]=e.splice(t,1,e[n])[0],e}),f=function(e){function n(e){var t;return Object(i.a)(this,n),(t=Object(c.a)(this,Object(s.a)(n).call(this,e))).handleUpOrDown=function(e,n,a){var l=function t(l){if(l&&l.length)return l.map((function(l){return l.id===e?"up"===a?l.children=function(e,n){return 0===n?e:v(e,n,n-1)}(l.children,n):"down"===a&&(l.children=function(e,n){return n===e.length-1?e:v(e,n,n+1)}(l.children,n)):l.children&&l.children.length&&(l.children=t(l.children)),l}))}(t.state.data);t.setState({data:l})},t.handleAdd=function(){var e=t.state,n=e.data,a=e.name,l=e.addId;console.log(n,a,l);if(a){var r=function e(n){if(n&&n.length)return n.map((function(n){return n.id===l?n.children&&n.children.length?n.children.push({name:a,id:Date.now().toString(36),level:n.level+1,children:[]}):n.children=[{name:a,id:Date.now().toString(36),level:n.level+1,children:[]}]:n.children&&n.children.length&&(n.children=e(n.children)),n}))}(n);t.setState({data:r,showAddModal:!1,name:""})}else alert("\u83dc\u5355\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a")},t.handleDelete=function(e,n){var a=function t(a){if(a&&a.length)return a.map((function(a){return a.id===e?a.children=(a.children||[]).filter((function(e){return e.id!==n})):a.children&&a.children.length&&(a.children=t(a.children)),a}))}(t.state.data);console.log(a),t.setState({data:a})},t.renderMenu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;return e&&e.length?e.map((function(a,r){return a&&a.children&&a.children.length?l.a.createElement(m,{name:a.name,id:a.id,level:a.level,key:r,index:r,hiddenUp:0===r,hiddenDown:r===e.length-1,parentId:n,handleUpOrDown:t.handleUpOrDown,handleDelete:t.handleDelete,handleAdd:t.showAdd},t.renderMenu(a.children,a.id)):l.a.createElement(m,{name:a.name,id:a.id,level:a.level,key:r,index:r,hiddenUp:0===r,hiddenDown:r===e.length-1,parentId:n,handleUpOrDown:t.handleUpOrDown,handleDelete:t.handleDelete,handleAdd:t.showAdd})})):null},t.handleChangeName=function(e){var n=e&&e.target?e.target.value:e;t.setState({name:n})},t.onClose=function(){t.setState({showAddModal:!1,name:"",addId:void 0})},t.showAdd=function(e){console.log(e),t.setState({addId:e,showAddModal:!0})},t.state={data:[{name:"\u5bfc\u822a\u4e00",id:"1",level:0,children:[]}],name:"",showAddModal:!1,addId:void 0},t}return Object(h.a)(n,e),Object(o.a)(n,[{key:"render",value:function(){var e=this.state,n=e.data,t=e.name,a=e.showAddModal;return l.a.createElement("div",{className:"mainContainer"},l.a.createElement(u,null,this.renderMenu(n)),l.a.createElement(p,{title:"\u7f16\u8f91\u540d\u79f0",show:a,onClose:this.onClose,onOk:this.handleAdd},l.a.createElement("input",{className:"nameInput",type:"text",value:t,onChange:this.handleChangeName,placeholder:"\u8bf7\u8f93\u5165\u5185\u5bb9"})))}}]),n}(l.a.Component);d.a.render(l.a.createElement(f,null),document.getElementById("root"))}],[[8,1,2]]]);
//# sourceMappingURL=main.948dec7d.chunk.js.map